<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>dagviz API documentation</title>
<meta name="description" content="DAGVIZ provides a simple visualization of Directed Acyclic Graphs." />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Package <code>dagviz</code></h1>
</header>
<section id="section-intro">
<p>DAGVIZ provides a simple visualization of Directed Acyclic Graphs.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
DAGVIZ provides a simple visualization of Directed Acyclic Graphs.
&#34;&#34;&#34;
try:
    import importlib.metadata as importlib_metadata  # type: ignore
except ModuleNotFoundError:
    import importlib_metadata

__version__ = importlib_metadata.version(__name__)

from typing import Any, Callable, Sequence, Union

import networkx as nx
from networkx.algorithms import dag

from .abstract import AbstractPlot
from .render import render
from .istyle import iStyle
from .style import metro
from .dagre import Dagre  # noqa


def make_abstract_plot(
    G: nx.Graph,
    *,
    order: Union[Sequence[Any], Callable[..., Sequence[Any]]] = dag.topological_sort,
) -&gt; AbstractPlot:
    &#34;&#34;&#34;Generate an abstract plot for a DAG.

    The abstract plot comprises a sequence of rows with varying number of
    columns, where each column provide information on what it contains.

    Args:
        G:     The DAG to be visualized
        order: Optional; The order of the nodes, or a function that creates an order
               from the graph. The default is to use a topological sort of the nodes.

    Returns:
        An abstract plot of the graph that can be used to render an image from.
    &#34;&#34;&#34;
    plot = AbstractPlot()
    if isinstance(order, Sequence):
        sequence = order
    else:
        sequence = order(G)
    for nd in sequence:
        row = plot.add_row(G.nodes[nd].get(&#34;label&#34;, f&#34;{nd}&#34;))
        for pred in G.pred[nd]:
            row.add_input(pred)

        row.add_node(nd, len(G.succ[nd]))

    return plot


def render_svg(
    G: nx.Graph, *, style: Callable[..., iStyle] = metro.svg_renderer()
) -&gt; str:
    &#34;&#34;&#34;
    Generate a DAG visualization as an SVG string.

    Args:
        G:     The DAG to visualize
        style: Optional; The visualization style to apply
    Returns:
        A string containing the SVG of the plot
    &#34;&#34;&#34;
    return render(make_abstract_plot(G), style)


class Metro:
    &#34;&#34;&#34;
    Render a topological ordering of a DAG using the &#34;metro&#34; style in
    jupyter notebooks.

    Args:
        G: directed acyclic graph to render
    &#34;&#34;&#34;

    def __init__(self, G: nx.DiGraph):
        self.graph = G

    def _repr_html_(self) -&gt; str:
        return render_svg(self.graph)</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="dagviz.abstract" href="abstract.html">dagviz.abstract</a></code></dt>
<dd>
<div class="desc"><p>Abstract table-like representation of a DAG visualization …</p></div>
</dd>
<dt><code class="name"><a title="dagviz.dagre" href="dagre.html">dagviz.dagre</a></code></dt>
<dd>
<div class="desc"><p>Render directed graphs in a jupyter notebook using <a href="https://github.com/dagrejs/dagre-d3">dagre-d3</a> …</p></div>
</dd>
<dt><code class="name"><a title="dagviz.istyle" href="istyle.html">dagviz.istyle</a></code></dt>
<dd>
<div class="desc"><p>Interface for rendering a plot.</p></div>
</dd>
<dt><code class="name"><a title="dagviz.render" href="render.html">dagviz.render</a></code></dt>
<dd>
<div class="desc"><p>Rendering of an abstract plot to a concrete format.</p></div>
</dd>
<dt><code class="name"><a title="dagviz.style" href="style/index.html">dagviz.style</a></code></dt>
<dd>
<div class="desc"><p>Rendering implementations and styles.</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="dagviz.make_abstract_plot"><code class="name flex">
<span>def <span class="ident">make_abstract_plot</span></span>(<span>G: networkx.classes.graph.Graph, *, order: Union[Sequence[Any], Callable[..., Sequence[Any]]] = &lt;function topological_sort&gt;) ‑> <a title="dagviz.abstract.AbstractPlot" href="abstract.html#dagviz.abstract.AbstractPlot">AbstractPlot</a></span>
</code></dt>
<dd>
<div class="desc"><p>Generate an abstract plot for a DAG.</p>
<p>The abstract plot comprises a sequence of rows with varying number of
columns, where each column provide information on what it contains.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>G</code></strong></dt>
<dd>
<p>The DAG to be visualized</p>
</dd>
<dt><strong><code>order</code></strong></dt>
<dd>Optional; The order of the nodes, or a function that creates an order
from the graph. The default is to use a topological sort of the nodes.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>An abstract plot of the graph that can be used to render an image from.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def make_abstract_plot(
    G: nx.Graph,
    *,
    order: Union[Sequence[Any], Callable[..., Sequence[Any]]] = dag.topological_sort,
) -&gt; AbstractPlot:
    &#34;&#34;&#34;Generate an abstract plot for a DAG.

    The abstract plot comprises a sequence of rows with varying number of
    columns, where each column provide information on what it contains.

    Args:
        G:     The DAG to be visualized
        order: Optional; The order of the nodes, or a function that creates an order
               from the graph. The default is to use a topological sort of the nodes.

    Returns:
        An abstract plot of the graph that can be used to render an image from.
    &#34;&#34;&#34;
    plot = AbstractPlot()
    if isinstance(order, Sequence):
        sequence = order
    else:
        sequence = order(G)
    for nd in sequence:
        row = plot.add_row(G.nodes[nd].get(&#34;label&#34;, f&#34;{nd}&#34;))
        for pred in G.pred[nd]:
            row.add_input(pred)

        row.add_node(nd, len(G.succ[nd]))

    return plot</code></pre>
</details>
</dd>
<dt id="dagviz.render_svg"><code class="name flex">
<span>def <span class="ident">render_svg</span></span>(<span>G: networkx.classes.graph.Graph, *, style: Callable[..., <a title="dagviz.istyle.iStyle" href="istyle.html#dagviz.istyle.iStyle">iStyle</a>] = &lt;function svg_renderer.&lt;locals&gt;.builder&gt;) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Generate a DAG visualization as an SVG string.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>G</code></strong></dt>
<dd>
<p>The DAG to visualize</p>
</dd>
<dt><strong><code>style</code></strong></dt>
<dd>Optional; The visualization style to apply</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>A string containing the SVG of the plot</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def render_svg(
    G: nx.Graph, *, style: Callable[..., iStyle] = metro.svg_renderer()
) -&gt; str:
    &#34;&#34;&#34;
    Generate a DAG visualization as an SVG string.

    Args:
        G:     The DAG to visualize
        style: Optional; The visualization style to apply
    Returns:
        A string containing the SVG of the plot
    &#34;&#34;&#34;
    return render(make_abstract_plot(G), style)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="dagviz.Metro"><code class="flex name class">
<span>class <span class="ident">Metro</span></span>
<span>(</span><span>G: networkx.classes.digraph.DiGraph)</span>
</code></dt>
<dd>
<div class="desc"><p>Render a topological ordering of a DAG using the "metro" style in
jupyter notebooks.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>G</code></strong></dt>
<dd>directed acyclic graph to render</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Metro:
    &#34;&#34;&#34;
    Render a topological ordering of a DAG using the &#34;metro&#34; style in
    jupyter notebooks.

    Args:
        G: directed acyclic graph to render
    &#34;&#34;&#34;

    def __init__(self, G: nx.DiGraph):
        self.graph = G

    def _repr_html_(self) -&gt; str:
        return render_svg(self.graph)</code></pre>
</details>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<a href="./../index.html">DAGVIZ</a> &ndash; <a href="./index.html">API</a>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="dagviz.abstract" href="abstract.html">dagviz.abstract</a></code></li>
<li><code><a title="dagviz.dagre" href="dagre.html">dagviz.dagre</a></code></li>
<li><code><a title="dagviz.istyle" href="istyle.html">dagviz.istyle</a></code></li>
<li><code><a title="dagviz.render" href="render.html">dagviz.render</a></code></li>
<li><code><a title="dagviz.style" href="style/index.html">dagviz.style</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="dagviz.make_abstract_plot" href="#dagviz.make_abstract_plot">make_abstract_plot</a></code></li>
<li><code><a title="dagviz.render_svg" href="#dagviz.render_svg">render_svg</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="dagviz.Metro" href="#dagviz.Metro">Metro</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
Copyright &copy; 2021 Wim Yedema
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>